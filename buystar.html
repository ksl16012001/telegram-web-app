<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buy Telegram Stars</title>
    <link rel="stylesheet" href="styles.css"> <!-- Link to the styles.css file -->
    <script src="script.js" defer></script>
</head>
<body id="buystar-page">
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <img src="https://usagif.com/wp-content/uploads/gify/cash-a-bag-of-money-transparent-background-usagif.gif" alt="logo">
            <h2>Buy Telegram Stars</h2>
        </div>

        <!-- Star List Section - Display the first 5 star packages -->
        <div class="star-list" id="starList"></div>

        <!-- Custom Input Section - Use select for the remaining star packages -->
        <div class="custom-input">
            <label for="customStars">Choose the number of stars: </label>
            <select id="customStars" onchange="calculateCustomPrice()">
                <option value="">Select a star package</option>
            </select>
            <p id="customPrice"></p>
        </div>

        <!-- Selected Star Package -->
        <div id="selectedPackage" class="selected-package" style="display: none;">
            <h3>Selected Star Package</h3>
            <p id="selectedAmount"></p>
            <p id="selectedPrice"></p>
            <button id="paymentButton" class="payment-button" onclick="buySelectedStars()">Pay</button>
        </div>
        
        <div id="footer"></div>
    </div>
    
    <script>
        function goBack() {
            window.history.back(); // Go back to the previous page in the browser history
        }
        document.getElementById('footer').innerHTML = `
            <div class="footer">
            <a href="javascript:history.back()">
                <div>Back</div>
            </a>
            <a href="/games.html">
                <div>Games</div>
            </a>
            <a href="/home.html">
                <div>Home</div>
            </a>
            <a href="/profile.html">
                <div>Profile</div>
            </a>
        </div>
        `;
        // Available star packages with their prices
        const starsPackages = [
            { amount: 50, price: 0.85 },
            { amount: 75, price: 1.275 },
            { amount: 100, price: 1.7 },
            { amount: 150, price: 2.55 },
            { amount: 250, price: 4.25 },
            { amount: 350, price: 5.95 },
            { amount: 500, price: 8.5 },
            { amount: 750, price: 12.75 },
            { amount: 1000, price: 16.5 },
            { amount: 1500, price: 25 },
            { amount: 2500, price: 42 },
            { amount: 5000, price: 84 },
            { amount: 10000, price: 165 },
            { amount: 25000, price: 410 },
            { amount: 35000, price: 570 },
            { amount: 50000, price: 810 },
            { amount: 100000, price: 1600 },
            { amount: 150000, price: 2380 },
            { amount: 500000, price: 7700 },
            { amount: 1000000, price: 15500 }
        ];

        const starList = document.getElementById("starList");
        const customStarsSelect = document.getElementById("customStars");
        const selectedPackageDiv = document.getElementById("selectedPackage");
        const selectedAmount = document.getElementById("selectedAmount");
        const selectedPrice = document.getElementById("selectedPrice");
        const paymentButton = document.getElementById("paymentButton");

        // Display the first 5 star packages
        starsPackages.slice(0, 5).forEach(pkg => {
            const item = document.createElement("div");
            item.className = "star-item";
            item.innerHTML = `
                <span>${pkg.amount} stars - $${pkg.price.toFixed(2)}</span>
                <button onclick="selectStarPackage(${pkg.amount}, ${pkg.price})">Select</button>
            `;
            starList.appendChild(item);
        });

        // Add options to select for the remaining star packages
        starsPackages.slice(5).forEach(pkg => {
            const option = document.createElement("option");
            option.value = pkg.amount;
            option.textContent = `${pkg.amount} stars - $${pkg.price.toFixed(2)}`;
            customStarsSelect.appendChild(option);
        });

        // Function to select a star package
        function selectStarPackage(amount, price) {
            selectedPackageDiv.style.display = 'block';  // Display the selected star package information
            selectedAmount.textContent = `Number of stars: ${amount}`;
            selectedPrice.textContent = `Price: $${price.toFixed(2)}`;
            paymentButton.onclick = function () {
                buyStars(amount, price);  // Call the payment function when clicking the pay button
            };
        }

        // Function to buy stars
        function buyStars(amount, price) {
            alert(`You have selected to buy ${amount} stars for $${price.toFixed(2)}`);
            // Call payment API here (to be replaced with actual payment logic)
        }

        // Function to calculate the price for the selected number of stars
        function calculateCustomPrice() {
            const customAmount = parseInt(customStarsSelect.value);
            const customPriceElement = document.getElementById("customPrice");

            if (!customAmount) {
                customPriceElement.innerText = "";
                selectedPackageDiv.style.display = 'none';  // Hide the selected star package information if nothing is selected
                return;
            }

            const selectedPackage = starsPackages.find(pkg => pkg.amount === customAmount);
            if (selectedPackage) {
                customPriceElement.innerText = `Price for ${selectedPackage.amount} stars is $${selectedPackage.price.toFixed(2)}`;
                selectedPackageDiv.style.display = 'block';  // Display the selected star package information
                selectedAmount.textContent = `Number of stars: ${selectedPackage.amount}`;
                selectedPrice.textContent = `Price: $${selectedPackage.price.toFixed(2)}`;
                paymentButton.onclick = function () {
                    buyStars(selectedPackage.amount, selectedPackage.price);
                };
            }
        }
    </script>
</body>
</html>
